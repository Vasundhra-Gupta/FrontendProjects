<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Guess the number</title>
        <style>
            .error {
                color: red;
                margin-left: 5px;
                display: none;
            }
            .message {
                height: 40px;
                border-radius: 5px;
                width: 800px;
                padding: 3px;
                margin: 10px;
                display: none;
            }
            form button:disabled{
                cursor:not-allowed;
            }
        </style>
    </head>
    <body>
        <h1>Guess a number:</h1>
        <div class="number">
            <form action="" onsubmit="checkNum(event)">
                <p>Guess a number between 1 and 100</p>
                <input type="text" name="num" placeholder="Enter your number" onblur="handleBlur(this)" oninput="handleInput(this)" /><span
                    class="error"
                    >kj</span
                >
                <div class="message"></div>
                <div>
                    <button type="submit" onmouseover="handleMouseOver()">Check</button>
                </div>
            </form>
        </div>
    </body>
    <script>
        // computed number
        let originalNum = Math.floor(Math.random() * 100);
        let attempts = 1;

        let message = document.querySelector(".message");
        let error = document.querySelector(".error");
        let btn = document.querySelector("form button");

        function checkNum(e) {
            console.log("hello");
            e.preventDefault();
            let guessedNum = document.querySelector("form input").value;
            console.log(guessedNum);

            if (guessedNum < originalNum) {
                message.style.display = "block";
                message.innerHTML = "oops! You number is less than the original number. Try again.";
                message.style.color= "red";
                console.log("oops! You number is less than the original number. Try again.");
                attempts++;
            } else if (guessedNum > originalNum) {
                message.style.display = "block";
                message.style.color= "red";
                message.innerHTML = "oops! You number is greater than the original number. Try again.";
                console.log("oops! You number is greater than the original number. Try again.");
                attempts++;
            } else {
                message.style.display = "block";
                message.style.color= "green";
                message.innerHTML = `congratulations! you guessed the right number in ${attempts} attempts. Your score is ${100 - attempts}%`;
                console.log("congratulations! you guessed the right number.");
            }

            console.log(attempts);
        }

        function handleBlur(inputElement) {
            console.log(inputElement);
            let value = inputElement.value;
            if (value > 100) {
                error.style.display = "block";
                error.innerHTML = "Number should not exceed 100";
            } else {
                error.style.display = "none";
            }
        }

        // function handleInput(inputValue) {
        //     let value = inputValue.value;
        //     isValid = isNaN(value) || value == "" || value > 100;
        //     inputValue.classList()
        // }

    </script>
</html>
